(function(){var T,baidu=T=baidu||{version:"1.3.9"};baidu.guid="$BAIDU$";window[baidu.guid]=window[baidu.guid]||{};baidu.ui=baidu.ui||{version:"1.3.9"};baidu.ui.getUI=function(c){var c=c.split("-"),b=baidu.ui,a=c.length,d=0;for(;d<a;d++){b=b[c[d].charAt(0).toUpperCase()+c[d].slice(1)];}return b;};baidu.lang=baidu.lang||{};baidu.lang.isString=function(a){return"[object String]"==Object.prototype.toString.call(a);};baidu.isString=baidu.lang.isString;baidu.ui.create=function(b,a){if(baidu.lang.isString(b)){b=baidu.ui.getUI(b);}return new b(a);};baidu.dom=baidu.dom||{};baidu.dom.g=function(a){if("string"==typeof a||a instanceof String){return document.getElementById(a);}else{if(a&&a.nodeName&&(a.nodeType==1||a.nodeType==9)){return a;}}return null;};baidu.g=baidu.G=baidu.dom.g;(function(){var a=window[baidu.guid];baidu.lang.guid=function(){return"TANGRAM__"+(a._counter++).toString(36);};a._counter=a._counter||1;})();window[baidu.guid]._instances=window[baidu.guid]._instances||{};baidu.lang.isFunction=function(a){return"[object Function]"==Object.prototype.toString.call(a);};baidu.lang.Class=function(a){this.guid=a||baidu.lang.guid();window[baidu.guid]._instances[this.guid]=this;};window[baidu.guid]._instances=window[baidu.guid]._instances||{};baidu.lang.Class.prototype.dispose=function(){delete window[baidu.guid]._instances[this.guid];for(var a in this){if(!baidu.lang.isFunction(this[a])){delete this[a];}}this.disposed=true;};baidu.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]";};baidu.lang.Event=function(a,b){this.type=a;this.returnValue=true;this.target=b||null;this.currentTarget=null;};baidu.lang.Class.prototype.addEventListener=function(d,c,b){if(!baidu.lang.isFunction(c)){return;}!this.__listeners&&(this.__listeners={});var a=this.__listeners,e;if(typeof b=="string"&&b){if(/[^\w\-]/.test(b)){throw ("nonstandard key:"+b);}else{c.hashCode=b;e=b;}}d.indexOf("on")!=0&&(d="on"+d);typeof a[d]!="object"&&(a[d]={});e=e||baidu.lang.guid();c.hashCode=e;a[d][e]=c;};baidu.lang.Class.prototype.removeEventListener=function(d,c){if(typeof c!="undefined"){if((baidu.lang.isFunction(c)&&!(c=c.hashCode))||(!baidu.lang.isString(c))){return;}}!this.__listeners&&(this.__listeners={});d.indexOf("on")!=0&&(d="on"+d);var b=this.__listeners;if(!b[d]){return;}if(typeof c!="undefined"){b[d][c]&&delete b[d][c];}else{for(var a in b[d]){delete b[d][a];}}};baidu.lang.Class.prototype.dispatchEvent=function(d,a){if(baidu.lang.isString(d)){d=new baidu.lang.Event(d);}!this.__listeners&&(this.__listeners={});a=a||{};for(var c in a){d[c]=a[c];}var c,b=this.__listeners,e=d.type;d.target=d.target||this;d.currentTarget=this;e.indexOf("on")!=0&&(e="on"+e);baidu.lang.isFunction(this[e])&&this[e].apply(this,arguments);if(typeof b[e]=="object"){for(c in b[e]){b[e][c].apply(this,arguments);}}return d.returnValue;};baidu.event=baidu.event||{};baidu.event._listeners=baidu.event._listeners||[];baidu.dom._g=function(a){if(baidu.lang.isString(a)){return document.getElementById(a);}return a;};baidu._g=baidu.dom._g;baidu.event.on=function(b,e,g){e=e.replace(/^on/i,"");b=baidu.dom._g(b);var f=function(i){g.call(b,i);},a=baidu.event._listeners,d=baidu.event._eventFilter,h,c=e;e=e.toLowerCase();if(d&&d[e]){h=d[e](b,e,f);c=h.type;f=h.listener;}if(b.addEventListener){b.addEventListener(c,f,false);}else{if(b.attachEvent){b.attachEvent("on"+c,f);}}a[a.length]=[b,e,g,f,c];return b;};baidu.on=baidu.event.on;baidu.event.un=function(c,f,b){c=baidu.dom._g(c);f=f.replace(/^on/i,"").toLowerCase();var i=baidu.event._listeners,d=i.length,e=!b,h,g,a;while(d--){h=i[d];if(h[1]===f&&h[0]===c&&(e||h[2]===b)){g=h[4];a=h[3];if(c.removeEventListener){c.removeEventListener(g,a,false);}else{if(c.detachEvent){c.detachEvent("on"+g,a);}}i.splice(d,1);}}return c;};baidu.un=baidu.event.un;baidu.ui.Base={id:"",getId:function(a){var c=this,b;b="tangram-"+c.uiType+"--"+(c.id?c.id:c.guid);return a?b+"-"+a:b;},getClass:function(b){var d=this,c=d.classPrefix,a=d.skin;if(b){c+="-"+b;a+="-"+b;}if(d.skin){c+=" "+a;}return c;},getMain:function(){return baidu.g(this.mainId);},getBody:function(){return baidu.g(this.getId());},uiType:"",getCallRef:function(){return"window['$BAIDU$']._instances['"+this.guid+"']";},getCallString:function(d){var c=0,b=Array.prototype.slice.call(arguments,1),a=b.length;for(;c<a;c++){if(typeof b[c]=="string"){b[c]="'"+b[c]+"'";}}return this.getCallRef()+"."+d+"("+b.join(",")+");";},on:function(a,b,c){baidu.on(a,b,c);this.addEventListener("ondispose",function(){baidu.un(a,b,c);});},renderMain:function(b){var d=this,c=0,a;if(d.getMain()){return;}b=baidu.g(b);if(!b){b=document.createElement("div");document.body.appendChild(b);b.style.position="absolute";b.className=d.getClass("main");}if(!b.id){b.id=d.getId("main");}d.mainId=b.id;b.setAttribute("data-guid",d.guid);return b;},dispose:function(){this.dispatchEvent("dispose");baidu.lang.Class.prototype.dispose.call(this);}};baidu.object=baidu.object||{};baidu.extend=baidu.object.extend=function(c,a){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b];}}return c;};baidu.ui.createUI=function(c,j){j=j||{};var g=j.superClass||baidu.lang.Class,f=g==baidu.lang.Class?1:0,d,b,h=function(k,i){var l=this;k=k||{};g.call(l,!f?k:(k.guid||""),true);baidu.object.extend(l,h.options);baidu.object.extend(l,k);l.classPrefix=l.classPrefix||"tangram-"+l.uiType.toLowerCase();for(d in baidu.ui.behavior){if(typeof l[d]!="undefined"&&l[d]){baidu.object.extend(l,baidu.ui.behavior[d]);if(baidu.lang.isFunction(l[d])){l.addEventListener("onload",function(){baidu.ui.behavior[d].call(l[d].apply(l));});}else{baidu.ui.behavior[d].call(l);}}}c.apply(l,arguments);for(d=0,b=h._addons.length;d<b;d++){h._addons[d](l);}if(k.parent&&l.setParent){l.setParent(k.parent);}if(!i&&k.autoRender){l.render(k.element);}},a=function(){};a.prototype=g.prototype;var e=h.prototype=new a();for(d in baidu.ui.Base){e[d]=baidu.ui.Base[d];}h.extend=function(i){for(d in i){h.prototype[d]=i[d];}return h;};h._addons=[];h.register=function(i){if(typeof i=="function"){h._addons.push(i);}};h.options={};return h;};baidu.page=baidu.page||{};baidu.page.getViewWidth=function(){var b=document,a=b.compatMode=="BackCompat"?b.body:b.documentElement;return a.clientWidth;};baidu.page.getViewHeight=function(){var b=document,a=b.compatMode=="BackCompat"?b.body:b.documentElement;return a.clientHeight;};baidu.page.getScrollLeft=function(){var a=document;return window.pageXOffset||a.documentElement.scrollLeft||a.body.scrollLeft;};baidu.page.getScrollTop=function(){var a=document;return window.pageYOffset||a.documentElement.scrollTop||a.body.scrollTop;};baidu.dom.children=function(b){b=baidu.dom.g(b);for(var a=[],c=b.firstChild;c;c=c.nextSibling){if(c.nodeType==1){a.push(c);}}return a;};baidu.browser=baidu.browser||{};baidu.browser.ie=baidu.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?(document.documentMode||+RegExp["\x241"]):undefined;baidu.dom.remove=function(a){a=baidu.dom._g(a);var b=a.parentNode;b&&b.removeChild(a);};baidu.dom._styleFixer=baidu.dom._styleFixer||{};baidu.dom._styleFilter=baidu.dom._styleFilter||[];baidu.dom._styleFilter.filter=function(b,e,f){for(var a=0,d=baidu.dom._styleFilter,c;c=d[a];a++){if(c=c[f]){e=c(b,e);}}return e;};baidu.string=baidu.string||{};baidu.string.toCamelCase=function(a){if(a.indexOf("-")<0&&a.indexOf("_")<0){return a;}return a.replace(/[-_][^-_]/g,function(b){return b.charAt(1).toUpperCase();});};baidu.dom.setStyle=function(c,b,d){var e=baidu.dom,a;c=e.g(c);b=baidu.string.toCamelCase(b);if(a=e._styleFilter){d=a.filter(b,d,"set");}a=e._styleFixer[b];(a&&a.set)?a.set(c,d):(c.style[a||b]=d);return c;};baidu.setStyle=baidu.dom.setStyle;baidu.dom.setStyles=function(b,c){b=baidu.dom.g(b);for(var a in c){baidu.dom.setStyle(b,a,c[a]);}return b;};baidu.setStyles=baidu.dom.setStyles;baidu.dom.getDocument=function(a){a=baidu.dom.g(a);return a.nodeType==9?a:a.ownerDocument||a.document;};baidu.dom.getComputedStyle=function(b,a){b=baidu.dom._g(b);var d=baidu.dom.getDocument(b),c;if(d.defaultView&&d.defaultView.getComputedStyle){c=d.defaultView.getComputedStyle(b,null);if(c){return c[a]||c.getPropertyValue(a);}}return"";};baidu.dom.getStyle=function(c,b){var e=baidu.dom;c=e.g(c);b=baidu.string.toCamelCase(b);var d=c.style[b]||(c.currentStyle?c.currentStyle[b]:"")||e.getComputedStyle(c,b);if(!d){var a=e._styleFixer[b];if(a){d=a.get?a.get(c):baidu.dom.getStyle(c,a);}}if(a=e._styleFilter){d=a.filter(b,d,"get");}return d;};baidu.getStyle=baidu.dom.getStyle;baidu.dom._styleFilter[baidu.dom._styleFilter.length]={set:function(a,b){if(b.constructor==Number&&!/zIndex|fontWeight|opacity|zoom|lineHeight/i.test(a)){b=b+"px";}return b;}};baidu.array=baidu.array||{};baidu.each=baidu.array.forEach=baidu.array.each=function(g,e,b){var d,f,c,a=g.length;if("function"==typeof e){for(c=0;c<a;c++){f=g[c];d=e.call(b||g,f,c);if(d===false){break;}}}return g;};baidu.string.format=function(c,a){c=String(c);var b=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;return c.replace(/#\{(.+?)\}/g,function(e,g){var f=b[g];if("[object Function]"==d.call(f)){f=f(g);}return("undefined"==typeof f?"":f);});}return c;};baidu.format=baidu.string.format;baidu.lang.isNumber=function(a){return"[object Number]"==Object.prototype.toString.call(a)&&isFinite(a);};baidu.browser.isStrict=document.compatMode=="CSS1Compat";baidu.dom.setBorderBoxSize=function(c,b){var a={};b.width&&(a.width=parseFloat(b.width));b.height&&(a.height=parseFloat(b.height));function d(f,e){return parseFloat(baidu.getStyle(f,e))||0;}if(baidu.browser.isStrict){if(b.width){a.width=parseFloat(b.width)-d(c,"paddingLeft")-d(c,"paddingRight")-d(c,"borderLeftWidth")-d(c,"borderRightWidth");a.width<0&&(a.width=0);}if(b.height){a.height=parseFloat(b.height)-d(c,"paddingTop")-d(c,"paddingBottom")-d(c,"borderTopWidth")-d(c,"borderBottomWidth");a.height<0&&(a.height=0);}}return baidu.dom.setStyles(c,a);};baidu.dom.setOuterHeight=baidu.dom.setBorderBoxHeight=function(b,a){return baidu.dom.setBorderBoxSize(b,{height:a});};baidu.dom.setOuterWidth=baidu.dom.setBorderBoxWidth=function(a,b){return baidu.dom.setBorderBoxSize(a,{width:b});};baidu.ui.Dialog=baidu.ui.createUI(function(a){var b=this;b._content="initElement";b.content=b.content||null;b._contentText="initText";b.contentText=b.contentText||"";b._titleText="initText";b.titleText=b.titleText||"";}).extend({uiType:"dialog",width:"",height:"",top:"auto",left:"auto",zIndex:1000,tplDOM:"<div id='#{id}' class='#{class}' style='position:relative'>#{title}#{content}#{footer}</div>",tplTitle:"<div id='#{id}' class='#{class}'><span id='#{inner-id}' class='#{inner-class}'>#{content}</span></div>",tplContent:"<div id='#{id}' class='#{class}' style='overflow:hidden; position:relative'>#{content}</div>",tplFooter:"<div id='#{id}' class='#{class}'></div>",isShown:function(){return baidu.ui.Dialog.instances[this.guid]=="show";},getString:function(){var c=this,a,e="title",d="title-inner",b="content",f="footer";return baidu.format(c.tplDOM,{id:c.getId(),"class":c.getClass(),title:baidu.format(c.tplTitle,{id:c.getId(e),"class":c.getClass(e),"inner-id":c.getId(d),"inner-class":c.getClass(d),content:c.titleText||""}),content:baidu.format(c.tplContent,{id:c.getId(b),"class":c.getClass(b),content:c.contentText||""}),footer:baidu.format(c.tplFooter,{id:c.getId(f),"class":c.getClass(f)})});},render:function(){var b=this,a;if(b.getMain()){return;}a=b.renderMain();a.innerHTML=b.getString();b._update();b._updatePosition();baidu.dom.setStyles(b.getMain(),{position:"absolute",zIndex:b.zIndex,marginLeft:"-100000px"});b.windowResizeHandler=b.getWindowResizeHandler();b.on(window,"resize",b.windowResizeHandler);b.dispatchEvent("onload");return a;},_update:function(b){var d=this,c=d.getContent(),b=b||{},e=d.getTitleInner(),a=false;if(typeof b.titleText!="undefined"){e.innerHTML=b.titleText;d.titleText=d._titleText=b.titleText;}else{if(d.titleText!=d._titleText){e.innerHTML=d.titleText;d._titleText=d.titleText;}}if(typeof b.content!="undefined"){c.innerHTML="";d.content=b.content;if(b.content!==null){c.appendChild(b.content);d.content=d._content=c.firstChild;d.contentText=d._contentText=c.innerHTML;return;}a=true;}else{if(d.content!==d._content){c.innerHTML="";if(d.content!==null){c.appendChild(d.content);d.content=d._content=c.firstChild;d.contentText=d._contentText=c.innerHTML;return;}a=true;}}if(typeof b.contentText!="undefined"){c.innerHTML=b.contentText;d.contentText=d._contentText=b.contentText;d.content=d._content=c.firstChild;}else{if((d.contentText!=d._contentText)||a){c.innerHTML=d.contentText;d._contentText=d.contentText;d.content=d._content=c.firstChild;}}delete (b.content);delete (b.contentText);delete (b.titleText);baidu.extend(d,b);},getWindowResizeHandler:function(){var a=this;return function(){a._updatePosition();};},open:function(){var a=this;a._updatePosition();a.getMain().style.marginLeft="auto";baidu.ui.Dialog.instances[a.guid]="show";a.dispatchEvent("onopen");},close:function(){var a=this;if(a.dispatchEvent("onbeforeclose")){a.getMain().style.marginLeft="-100000px";baidu.ui.Dialog.instances[a.guid]="hide";a.dispatchEvent("onclose");}},update:function(a){var b=this;b._update(a);b._updatePosition();b.dispatchEvent("onupdate");},_getBodyOffset:function(){var f=this,b,c=f.getBody(),e=f.getContent(),h=f.getTitle(),i=f.getFooter();b={width:0,height:0};function d(l,k){var j=parseFloat(baidu.getStyle(l,k));j=isNaN(j)?0:j;j=baidu.lang.isNumber(j)?j:0;return j;}baidu.each(["marginLeft","marginRight"],function(k,j){b.width+=d(e,k);});b.height+=h.offsetHeight+d(h,"marginTop");b.height+=i.offsetHeight+d(i,"marginBottom");var a=d(e,"marginTop"),g=d(h,"marginBottom");b.height+=a>=g?a:g;a=d(i,"marginTop"),g=d(e,"marginBottom");b.height+=a>=g?a:g;return b;},_updatePosition:function(){var g=this,d,h="",i="",a="",c="",f=g.getContent(),e=g.getBody(),b,j;b=parseFloat(g.width);j=parseFloat(g.height);d=g._getBodyOffset();baidu.lang.isNumber(b)&&baidu.dom.setOuterWidth(f,b);baidu.lang.isNumber(j)&&baidu.dom.setOuterHeight(f,j);d.width+=f.offsetWidth;d.height+=f.offsetHeight;g.width&&baidu.setStyle(e,"width",d.width);g.height&&baidu.setStyle(e,"height",d.height);if((g.left&&g.left!="auto")||(g.right&&g.right!="auto")){c=g.left||"";i=g.right||"";}else{c=Math.max((baidu.page.getViewWidth()-parseFloat(g.getMain().offsetWidth))/2+baidu.page.getScrollLeft(),0);}if((g.top&&g.top!="auto")||(g.bottom&&g.bottom!="auto")){h=g.top||"";a=g.bottom||"";}else{h=Math.max((baidu.page.getViewHeight()-parseFloat(g.getMain().offsetHeight))/2+baidu.page.getScrollTop(),0);}baidu.dom.setStyles(g.getMain(),{top:h,right:i,bottom:a,left:c});},getTitle:function(){return baidu.g(this.getId("title"));},getTitleInner:function(){return baidu.g(this.getId("title-inner"));},getContent:function(){return baidu.g(this.getId("content"));},getFooter:function(){return baidu.g(this.getId("footer"));},dispose:function(){var a=this;delete baidu.ui.Dialog.instances[a.guid];a.dispatchEvent("dispose");baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a);}});baidu.ui.Dialog.instances=baidu.ui.Dialog.instances||{};baidu.extend(baidu.ui.Dialog.prototype,{autoDispose:true});baidu.ui.Dialog.register(function(a){if(a.autoDispose){a.addEventListener("onload",function(){if(typeof a.autoDispose=="undefined"||a.autoDispose){a.addEventListener("onclose",function(){a.dispose();});}});}});baidu.ui.Base.setParent=function(b){var c=this,a=c._parent;a&&a.dispatchEvent("removechild");if(b.dispatchEvent("appendchild",{child:c})){c._parent=b;}};baidu.ui.Base.getParent=function(){return this._parent||null;};(function(){var a=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g");baidu.string.trim=function(b){return String(b).replace(a,"");};})();baidu.trim=baidu.string.trim;baidu.dom.removeClass=function(f,g){f=baidu.dom.g(f);var d=f.className.split(/\s+/),h=g.split(/\s+/),b,a=h.length,c,e=0;for(;e<a;++e){for(c=0,b=d.length;c<b;++c){if(d[c]==h[e]){d.splice(c,1);break;}}}f.className=d.join(" ");return f;};baidu.removeClass=baidu.dom.removeClass;baidu.dom.addClass=function(f,g){f=baidu.dom.g(f);var b=g.split(/\s+/),a=f.className,e=" "+a+" ",d=0,c=b.length;for(;d<c;d++){if(e.indexOf(" "+b[d]+" ")<0){a+=(a?" ":"")+b[d];}}f.className=a;return f;};baidu.addClass=baidu.dom.addClass;baidu.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp["\x246"]||RegExp["\x242"]):undefined;baidu.dom.insertHTML=function(d,a,c){d=baidu.dom.g(d);var b,e;if(d.insertAdjacentHTML&&!baidu.browser.opera){d.insertAdjacentHTML(a,c);}else{b=d.ownerDocument.createRange();a=a.toUpperCase();if(a=="AFTERBEGIN"||a=="BEFOREEND"){b.selectNodeContents(d);b.collapse(a=="AFTERBEGIN");}else{e=a=="BEFOREBEGIN";b[e?"setStartBefore":"setEndAfter"](d);b.collapse(e);}b.insertNode(b.createContextualFragment(c));}return d;};baidu.insertHTML=baidu.dom.insertHTML;baidu.ui.behavior=baidu.ui.behavior||{};baidu.dom.hasClass=function(c,d){c=baidu.dom.g(c);var b=baidu.string.trim(d).split(/\s+/),a=b.length;d=c.className.split(/\s+/).join(" ");while(a--){if(!(new RegExp("(^| )"+b[a]+"( |\x24)")).test(d)){return false;}}return true;};baidu.event.getTarget=function(a){return a.target||a.srcElement;};baidu.object.each=function(e,c){var b,a,d;if("function"==typeof c){for(a in e){if(e.hasOwnProperty(a)){d=e[a];b=c.call(e,d,a);if(b===false){break;}}}}return e;};baidu.fn=baidu.fn||{};baidu.fn.bind=function(b,a){var c=arguments.length>2?[].slice.call(arguments,2):null;return function(){var e=baidu.lang.isString(b)?a[b]:b,d=(c)?c.concat([].slice.call(arguments,0)):arguments;return e.apply(a||e,d);};};baidu.lang.Class.prototype.addEventListeners=function(c,d){if(typeof d=="undefined"){for(var b in c){this.addEventListener(b,c[b]);}}else{c=c.split(",");var b=0,a=c.length,e;for(;b<a;b++){this.addEventListener(baidu.trim(c[b]),d);}}};(function(){var a=baidu.ui.behavior.statable=function(){var b=this;b.addEventListeners("ondisable,onenable",function(e,c){var d,f;c=c||{};elementId=(c.element||b.getMain()).id;f=c.group;if(e.type=="ondisable"&&!b.getState(elementId,f)["disabled"]){b.removeState("press",elementId,f);b.removeState("hover",elementId,f);b.setState("disabled",elementId,f);}else{if(e.type=="onenable"&&b.getState(elementId,f)["disabled"]){b.removeState("disabled",elementId,f);}}});};a._states={};a._allStates=["hover","press","disabled"];a._allEventsName=["mouseover","mouseout","mousedown","mouseup"];a._eventsHandler={mouseover:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.setState("hover",d,c);return true;}},mouseout:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.removeState("hover",d,c);b.removeState("press",d,c);return true;}},mousedown:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.setState("press",d,c);return true;}},mouseup:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.removeState("press",d,c);return true;}}};a._getStateHandlerString=function(h,f){var g=this,e=0,b=g._allEventsName.length,c=[],d;if(typeof h=="undefined"){h=f="";}for(;e<b;e++){d=g._allEventsName[e];c[e]="on"+d+'="'+g.getCallRef()+"._fireEvent('"+d+"', '"+h+"', '"+f+"', event)\"";}return c.join(" ");};a._fireEvent=function(c,g,b,f){var d=this,h=d.getId(g+b);if(d._eventsHandler[c].call(d,h,g)){d.dispatchEvent(c,{element:h,group:g,key:b,DOMEvent:f});}};a.addState=function(e,b,c){var d=this;d._allStates.push(e);if(b){d._allEventsName.push(b);if(!c){c=function(){return true;};}d._eventsHandler[b]=c;}};a.getState=function(b,e){var d=this,c;e=e?e+"-":"";b=b?b:d.getId();c=d._states[e+b];return c?c:{};};a.setState=function(e,b,f){var d=this,g,c;f=f?f+"-":"";b=b?b:d.getId();g=f+b;d._states[g]=d._states[g]||{};c=d._states[g][e];if(!c){d._states[g][e]=1;baidu.addClass(b,d.getClass(f+e));}};a.removeState=function(d,b,e){var c=this,f;e=e?e+"-":"";b=b?b:c.getId();f=e+b;if(c._states[f]){c._states[f][d]=0;baidu.removeClass(b,c.getClass(e+d));}};})();baidu.ui.Button=baidu.ui.createUI(new Function).extend({uiType:"button",tplBody:'<div id="#{id}" #{statable} class="#{class}">#{content}</div>',disabled:false,statable:true,_getString:function(){var a=this;return baidu.format(a.tplBody,{id:a.getId(),statable:a._getStateHandlerString(),"class":a.getClass(),content:a.content});},render:function(c){var b=this,a;b.addState("click","click");baidu.dom.insertHTML(b.renderMain(c),"beforeEnd",b._getString());a=baidu.g(c).lastChild;if(b.title){a.title=b.title;}b.disabled&&b.setState("disabled");b.dispatchEvent("onload");},isDisabled:function(){var a=this,b=a.getId();return a.getState()["disabled"];},dispose:function(){var b=this,a=b.getBody();b.dispatchEvent("dispose");baidu.each(b._allEventsName,function(d,c){a["on"+d]=null;});baidu.dom.remove(a);b.dispatchEvent("ondispose");baidu.lang.Class.prototype.dispose.call(b);},disable:function(){var b=this,a=b.getBody();b.dispatchEvent("ondisable",{element:a});},enable:function(){var a=this;body=a.getBody();a.dispatchEvent("onenable",{element:body});},fire:function(a,c){var b=this,a=a.toLowerCase();if(b.getState()["disabled"]){return;}b._fireEvent(a,null,null,c);},update:function(a){var b=this;baidu.extend(b,a);a.content&&(b.getBody().innerHTML=a.content);b.dispatchEvent("onupdate");}});baidu.i18n=baidu.i18n||{};baidu.i18n.string=baidu.i18n.string||{trim:function(c,a){var b=baidu.i18n.cultures[a||baidu.i18n.currentLocale].whitespace;return String(c).replace(b,"");},translation:function(c,a){var b=baidu.i18n.cultures[a||baidu.i18n.currentLocale].language;return b[c]||"";}};baidu.i18n.cultures=baidu.i18n.cultures||{};baidu.i18n.cultures["zh-CN"]=baidu.object.extend(baidu.i18n.cultures["zh-CN"]||{},{calendar:{dateFormat:"yyyy-MM-dd",titleNames:"#{yyyy}年&nbsp;#{MM}月",monthNames:["一","二","三","四","五","六","七","八","九","十","十一","十二"],dayNames:{mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六",sun:"日"}},timeZone:8,whitespace:new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g"),number:{group:",",groupLength:3,decimal:".",positive:"",negative:"-",_format:function(b,a){return baidu.i18n.number._format(b,{group:this.group,groupLength:this.groupLength,decimal:this.decimal,symbol:a?this.negative:this.positive});}},currency:{symbol:"￥"},language:{ok:"确定",cancel:"取消",signin:"注册",signup:"登录"}});baidu.i18n.currentLocale=baidu.i18n.currentLocale||"zh-CN";baidu.extend(baidu.ui.Dialog.prototype,{createButton:function(c,a){var d=this;baidu.extend(c,{classPrefix:d.classPrefix+"-"+a,skin:d.skin?d.skin+"-"+a:"",element:d.getFooter(),autoRender:true,parent:d});var b=new baidu.ui.Button(c);d.buttonInstances[a]=b;},removeButton:function(a){var c=this,b=c.buttonInstances[a];if(b){b.dispose();delete (c.buttonInstances[a]);delete (c.buttons[a]);}}});baidu.ui.Dialog.register(function(d){d.buttonInstances={};d.language=d.language||"zh-CN";var b,c,a={},e=baidu.i18n.cultures[d.language].language;b={content:e.ok,onclick:function(){var g=this,f=g.getParent();f.dispatchEvent("onaccept")&&f.close();}};c={content:e.cancel,onclick:function(){var g=this,f=g.getParent();f.dispatchEvent("oncancel")&&f.close();}};d.addEventListener("onload",function(){switch(d.type){case"alert":d.submitOnEnter=d.submitOnEnter||true;a={accept:b};break;case"confirm":d.submitOnEnter=d.submitOnEnter||true;a={accept:b,cancel:c};break;default:}d.buttons=baidu.extend(a,d.buttons||{});baidu.object.each(d.buttons,function(g,f){d.createButton(g,f);});d.submitOnEnter&&d.addEventListener("onenter",function(f){d.buttonInstances.accept.fire("click",f);});});d.addEventListener("ondispose",function(){baidu.object.each(d.buttons,function(g,f){d.removeButton(f);});});d.addEventListener("onupdate",function(){baidu.object.each(d.buttons,function(g,f){d.buttonInstances[f]?d.buttonInstances[f].update(g):d.createButton(g,f);});});});baidu.event.stopPropagation=function(a){if(a.stopPropagation){a.stopPropagation();}else{a.cancelBubble=true;}};baidu.extend(baidu.ui.Dialog.prototype,{closeText:"",closeButton:true});baidu.ui.Dialog.register(function(a){a.closeButton&&a.addEventListener("onload",function(){var b=new baidu.ui.Button({parent:a,classPrefix:a.classPrefix+"-close",skin:a.skin?a.skin+"-close":"",onclick:function(){a.close();},onmousedown:function(c){baidu.event.stopPropagation(c.DOMEvent);},element:a.getTitle(),autoRender:true});a.closeButtonInstance=b;a.addEventListener("ondispose",function(){b.dispose();});});});baidu.dom.insertBefore=function(d,c){var b,a;b=baidu.dom._g;d=b(d);c=b(c);a=c.parentNode;if(a){a.insertBefore(d,c);}return d;};(function(){var a=baidu.ui.behavior.coverable=function(){};a.Coverable_isShowing=false;a.Coverable_iframe;a.Coverable_container;a.Coverable_iframeContainer;a.Coverable_show=function(){var h=this;if(h.Coverable_iframe){h.Coverable_update();baidu.setStyle(h.Coverable_iframe,"display","block");return;}var f=h.coverableOptions||{},c=h.Coverable_container=f.container||h.getMain(),e=f.opacity||"0",d=f.color||"",g=h.Coverable_iframe=document.createElement("iframe"),b=h.Coverable_iframeContainer=document.createElement("div");baidu.dom.children(c).length>0?baidu.dom.insertBefore(b,c.firstChild):c.appendChild(b);baidu.setStyles(b,{position:"absolute",top:"0px",left:"0px"});baidu.dom.setBorderBoxSize(b,{width:c.offsetWidth,height:c.offsetHeight});baidu.dom.setBorderBoxSize(g,{width:b.offsetWidth});baidu.dom.setStyles(g,{zIndex:-1,display:"block",border:0,backgroundColor:d,filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity="+e+")"});b.appendChild(g);g.src="javascript:void(0)";g.frameBorder="0";g.scrolling="no";g.height="97%";h.Coverable_isShowing=true;};a.Coverable_hide=function(){var c=this,b=c.Coverable_iframe;if(!c.Coverable_isShowing){return;}baidu.setStyle(b,"display","none");c.Coverable_isShowing=false;};a.Coverable_update=function(d){var f=this,d=d||{},c=f.Coverable_container,b=f.Coverable_iframeContainer,e=f.Coverable_iframe;baidu.dom.setBorderBoxSize(b,{width:c.offsetWidth,height:c.offsetHeight});baidu.dom.setBorderBoxSize(e,baidu.extend({width:baidu.getStyle(b,"width")},d));};})();baidu.extend(baidu.ui.Dialog.prototype,{coverable:true,coverableOptions:{}});baidu.ui.Dialog.register(function(a){if(a.coverable){a.addEventListeners("onopen,onload",function(){a.Coverable_show();});a.addEventListener("onclose",function(){a.Coverable_hide();});a.addEventListener("onupdate",function(){a.Coverable_update();});}});baidu.event.preventDefault=function(a){if(a.preventDefault){a.preventDefault();}else{a.returnValue=false;}};(function(){baidu.page.getMousePosition=function(){return{x:baidu.page.getScrollLeft()+a.x,y:baidu.page.getScrollTop()+a.y};};var a={x:0,y:0};baidu.event.on(document,"onmousemove",function(b){b=window.event||b;a.x=b.clientX;a.y=b.clientY;});})();baidu.browser.isWebkit=/webkit/i.test(navigator.userAgent);baidu.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent);baidu.dom.getPosition=function(a){a=baidu.dom.g(a);var j=baidu.dom.getDocument(a),d=baidu.browser,g=baidu.dom.getStyle,c=d.isGecko>0&&j.getBoxObjectFor&&g(a,"position")=="absolute"&&(a.style.top===""||a.style.left===""),h={left:0,top:0},f=(d.ie&&!d.isStrict)?j.body:j.documentElement,k,b;if(a==f){return h;}if(a.getBoundingClientRect){b=a.getBoundingClientRect();h.left=Math.floor(b.left)+Math.max(j.documentElement.scrollLeft,j.body.scrollLeft);h.top=Math.floor(b.top)+Math.max(j.documentElement.scrollTop,j.body.scrollTop);h.left-=j.documentElement.clientLeft;h.top-=j.documentElement.clientTop;var i=j.body,l=parseInt(g(i,"borderLeftWidth")),e=parseInt(g(i,"borderTopWidth"));if(d.ie&&!d.isStrict){h.left-=isNaN(l)?2:l;h.top-=isNaN(e)?2:e;}}else{k=a;do{h.left+=k.offsetLeft;h.top+=k.offsetTop;if(d.isWebkit>0&&g(k,"position")=="fixed"){h.left+=j.body.scrollLeft;h.top+=j.body.scrollTop;break;}k=k.offsetParent;}while(k&&k!=a);if(d.opera>0||(d.isWebkit>0&&g(a,"position")=="absolute")){h.top-=j.body.offsetTop;}k=a.offsetParent;while(k&&k!=j.body){h.left-=k.scrollLeft;if(!d.opera||k.tagName!="TR"){h.top-=k.scrollTop;}k=k.offsetParent;}}return h;};(function(){var m,l,g,e,p,h,q,a,o,f=baidu.lang.isFunction,d,j,c;baidu.dom.drag=function(s,r){o=a=null;if(!(m=baidu.dom.g(s))){return false;}l=baidu.object.extend({autoStop:true,capture:true,interval:16,handler:m},r);j=baidu.dom.getPosition(m.offsetParent);c=baidu.dom.getPosition(m);if(baidu.getStyle(m,"position")=="absolute"){p=c.top-(m.offsetParent==document.body?0:j.top);h=c.left-(m.offsetParent==document.body?0:j.left);}else{p=parseFloat(baidu.getStyle(m,"top"))||-parseFloat(baidu.getStyle(m,"bottom"))||0;h=parseFloat(baidu.getStyle(m,"left"))||-parseFloat(baidu.getStyle(m,"right"))||0;}if(l.mouseEvent){g=baidu.page.getScrollLeft()+l.mouseEvent.clientX;e=baidu.page.getScrollTop()+l.mouseEvent.clientY;}else{var t=baidu.page.getMousePosition();g=t.x;e=t.y;}l.autoStop&&baidu.event.on(l.handler,"mouseup",n);l.autoStop&&baidu.event.on(window,"mouseup",n);baidu.event.on(document,"selectstart",i);if(l.capture&&l.handler.setCapture){l.handler.setCapture();}else{if(l.capture&&window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP);}}q=document.body.style.MozUserSelect;document.body.style.MozUserSelect="none";if(f(l.ondragstart)){l.ondragstart(m,l);}d=setInterval(b,l.interval);return{stop:n,update:k};};function k(r){baidu.extend(l,r);}function n(){clearInterval(d);if(l.capture&&l.handler.releaseCapture){l.handler.releaseCapture();}else{if(l.capture&&window.releaseEvents){window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP);}}document.body.style.MozUserSelect=q;baidu.event.un(document,"selectstart",i);l.autoStop&&baidu.event.un(l.handler,"mouseup",n);l.autoStop&&baidu.event.un(window,"mouseup",n);if(f(l.ondragend)){l.ondragend(m,l);}}function b(v){var r=l.range,u=baidu.page.getMousePosition(),s=h+u.x-g,t=p+u.y-e;if(typeof r=="object"&&r&&r.length==4){s=Math.max(r[3],s);s=Math.min(r[1]-m.offsetWidth,s);t=Math.max(r[0],t);t=Math.min(r[2]-m.offsetHeight,t);}m.style.top=t+"px";m.style.left=s+"px";if((a!==s||o!==t)&&(a!==null||o!==null)){if(f(l.ondrag)){l.ondrag(m,l);}}a=s;o=t;}function i(r){return baidu.event.preventDefault(r,false);}})();baidu.dom.draggable=function(b,k){k=baidu.object.extend({toggle:function(){return true;}},k||{});k.autoStop=true;b=baidu.dom.g(b);k.handler=k.handler||b;var a,h=["ondragstart","ondrag","ondragend"],c=h.length-1,d,j,f={dispose:function(){j&&j.stop();baidu.event.un(k.handler,"onmousedown",g);baidu.lang.Class.prototype.dispose.call(f);}},e=this;if(a=baidu.dom.ddManager){for(;c>=0;c--){d=h[c];k[d]=(function(i){var l=k[i];return function(){baidu.lang.isFunction(l)&&l.apply(e,arguments);a.dispatchEvent(i,{DOM:b});};})(d);}}if(b){function g(l){var i=k.mouseEvent=window.event||l;if(i.button>1||(baidu.lang.isFunction(k.toggle)&&!k.toggle())){return;}if(baidu.dom.getStyle(b,"position")=="static"){baidu.dom.setStyle(b,"position","relative");}if(baidu.lang.isFunction(k.onbeforedragstart)){k.onbeforedragstart(b);}j=baidu.dom.drag(b,k);f.stop=j.stop;f.update=j.update;baidu.event.preventDefault(i);}baidu.event.on(k.handler,"onmousedown",g);}return{cancel:function(){f.dispose();}};};baidu.page.getWidth=function(){var d=document,a=d.body,c=d.documentElement,b=d.compatMode=="BackCompat"?a:d.documentElement;return Math.max(c.scrollWidth,a.scrollWidth,b.clientWidth);};baidu.page.getHeight=function(){var d=document,a=d.body,c=d.documentElement,b=d.compatMode=="BackCompat"?a:d.documentElement;return Math.max(c.scrollHeight,a.scrollHeight,b.clientHeight);};(function(){var a=baidu.ui.behavior.draggable=function(){this.addEventListener("onload",function(){var b=this;b.dragUpdate();});this.addEventListener("ondispose",function(){var b=this;baidu.un(b._dragOption.handler,"mousedown",b._dragFn);b._dragOption.handler=b.dragHandler=b._lastDragHandler=null;});};a.dragUpdate=function(b){var c=this;b=b||{};if(!c.draggable){return;}if(c._lastDragHandler&&c._dragFn){baidu.event.un(c._lastDragHandler,"onmousedown",c._dragFn);}baidu.object.extend(c,b);c._dragOption={ondragstart:function(){c.dispatchEvent("ondragstart");},ondrag:function(){c.dispatchEvent("ondrag");},ondragend:function(){c.dispatchEvent("ondragend");},autoStop:true};c._dragOption.range=c.dragRange||[];c._dragOption.handler=c._lastDragHandler=c.dragHandler||c.getMain();if(c._dragOption.handler){baidu.event.on(c._dragOption.handler,"onmousedown",c._dragFn=function(){baidu.dom.drag(c.dragTarget||c.getMain(),c._dragOption);});}};})();baidu.ui.Dialog.prototype.draggable=true;baidu.ui.Dialog.register(function(b){if(b.draggable){function a(){b.dragRange=[0,baidu.page.getWidth(),baidu.page.getHeight(),0];b.dragUpdate();}b.addEventListener("onload",function(){b.dragHandler=b.dragHandler||b.getTitle();if(!b.dragRange){a();b.on(window,"resize",a);}else{b.dragUpdate();}});b.addEventListener("ondragend",function(){b.left=baidu.dom.getStyle(b.getMain(),"left");b.top=baidu.dom.getStyle(b.getMain(),"top");});}});baidu.ui.Dialog.register(function(c){if(c.type=="iframe"){baidu.extend(c,{autoRender:true,tplIframe:"<iframe width='100%' height='97%' frameborder='0' scrolling='no' name='#{name}' id='#{id}' class='#{class}'></iframe>",getIframe:function(){return baidu.g(this.getId("iframe"));},updateIframe:function(g){baidu.setStyles(this.getId("iframe"),g);c._updatePosition();c.dispatchEvent("onupdate");}});var b,f=c.getId("iframe"),d=c.iframeName||f,e,a,b=baidu.format(c.tplIframe,{name:d,id:f,"class":c.getClass("iframe")});c.addEventListener("onload",function(){c._update({contentText:b});c._updatePosition();e=baidu.g(f);c.on(e,"onload",function(){c._updatePosition();c.dispatchEvent("onupdate");});e.src=c.iframeSrc;});}});baidu.lang.instance=function(a){return window[baidu.guid]._instances[a]||null;};baidu.extend(baidu.ui.Dialog.prototype,{enableKeyboard:true,closeOnEscape:true});baidu.ui.Dialog.register(function(a){baidu.ui.Dialog.keyboardHandler=baidu.ui.Dialog.keyboardHandler||function(d){d=window.event||d;var c=d.keyCode||d.which,f,b;baidu.object.each(baidu.ui.Dialog.instances,function(g,e){if(g=="show"){b=baidu.lang.instance(e);if(!f||b.zIndex>f.zIndex){f=b;}}});if(f){switch(c){case 27:f.closeOnEscape&&f.close();break;case 13:f.dispatchEvent("onenter");break;default:}}};if(a.enableKeyboard&&!baidu.ui.Dialog.keyboardEventReady){baidu.on(document,"keyup",baidu.ui.Dialog.keyboardHandler);baidu.ui.Dialog.keyboardEventReady=true;}a.addEventListener("ondispose",function(){var b=true;baidu.object.each(baidu.ui.Dialog.instances,function(d,c){b=false;return false;});if(b){baidu.event.un(document,"keyup",baidu.ui.Dialog.keyboardHandler);baidu.ui.Dialog.keyboardEventReady=false;}});});baidu.dom._NAME_ATTRS=(function(){var a={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};if(baidu.browser.ie<8){a["for"]="htmlFor";a["class"]="className";}else{a.htmlFor="for";a.className="class";}return a;})();baidu.dom.setAttr=function(b,a,c){b=baidu.dom.g(b);if("style"==a){b.style.cssText=c;}else{a=baidu.dom._NAME_ATTRS[a]||a;b.setAttribute(a,c);}return b;};baidu.setAttr=baidu.dom.setAttr;baidu.dom._styleFixer.opacity=baidu.browser.ie?{get:function(a){var b=a.style.filter;return b&&b.indexOf("opacity=")>=0?(parseFloat(b.match(/opacity=([^)]*)/)[1])/100)+"":"1";},set:function(a,c){var b=a.style;b.filter=(b.filter||"").replace(/alpha\([^\)]*\)/gi,"")+(c==1?"":"alpha(opacity="+c*100+")");b.zoom=1;}}:null;baidu.dom.getAttr=function(b,a){b=baidu.dom.g(b);if("style"==a){return b.style.cssText;}a=baidu.dom._NAME_ATTRS[a]||a;return b.getAttribute(a);};baidu.getAttr=baidu.dom.getAttr;baidu.dom.getAncestorBy=function(a,b){a=baidu.dom.g(a);while((a=a.parentNode)&&a.nodeType==1){if(b(a)){return a;}}return null;};baidu.dom.fixable=function(a,b){var t=baidu.g(a),o=baidu.browser.ie&&baidu.browser.ie<=7?true:false,j=b.vertival||"top",r=b.horizontal||"left",q=typeof b.autofix!="undefined"?b.autofix:true,i,d,h=false,l=b.onrender||new Function(),c=b.onupdate||new Function(),k=b.onrelease||new Function();if(!t){return;}i=g();d={y:o?(i.position=="static"?baidu.dom.getPosition(t).top:baidu.dom.getPosition(t).top-baidu.dom.getPosition(t.parentNode).top):t.offsetTop,x:o?(i.position=="static"?baidu.dom.getPosition(t).left:baidu.dom.getPosition(t).left-baidu.dom.getPosition(t.parentNode).left):t.offsetLeft};baidu.extend(d,b.offset||{});q&&s();function p(){return{top:j=="top"?d.y:baidu.page.getViewHeight()-d.y-i.height,left:r=="left"?d.x:baidu.page.getViewWidth()-d.x-i.width};}function m(){var u=p();t.style.setExpression("left","eval((document.body.scrollLeft || document.documentElement.scrollLeft) + "+u.left+") + 'px'");t.style.setExpression("top","eval((document.body.scrollTop || document.documentElement.scrollTop) + "+u.top+") + 'px'");}function g(){var u={position:baidu.getStyle(t,"position"),height:function(){var v=baidu.getStyle(t,"height");return(v!="auto")?(/\d+/.exec(v)[0]):t.offsetHeight;}(),width:function(){var v=baidu.getStyle(t,"width");return(v!="auto")?(/\d+/.exec(v)[0]):t.offsetWidth;}()};e("top",u);e("left",u);e("bottom",u);e("right",u);return u;}function e(v,w){var u;if(w.position=="static"){w[v]="";}else{u=baidu.getStyle(t,v);if(u=="auto"||u=="0px"){w[v]="";}else{w[v]=u;}}}function s(){if(h){return;}baidu.setStyles(t,{top:"",left:"",bottom:"",right:""});if(!o){var u={position:"fixed"};u[j=="top"?"top":"bottom"]=d.y+"px";u[r=="left"?"left":"right"]=d.x+"px";baidu.setStyles(t,u);}else{baidu.setStyle(t,"position","absolute");m();}l();h=true;}function n(){if(!h){return;}var u={position:i.position,left:i.left==""?"auto":i.left,top:i.top==""?"auto":i.top,bottom:i.bottom==""?"auto":i.bottom,right:i.right==""?"auto":i.right};if(o){t.style.removeExpression("left");t.style.removeExpression("top");}baidu.setStyles(t,u);k();h=false;}function f(u){if(!u){return;}l=u.onrender||l;c=u.onupdate||c;k=u.onrelease||k;j=u.vertival||"top";r=u.horizontal||"left";baidu.extend(d,u.offset||{});c();}return{render:s,update:f,release:n};};baidu.ui.Modal=baidu.ui.createUI(function(b){var c=this,a=(b&&b.container)?baidu.g(b.container):null;!a&&(a=document.body);if(!a.id){a.id=c.getId("container");}c.containerId=a.id;c.styles={color:"#000000",opacity:0.6,zIndex:1000};}).extend({uiType:"modal",_showing:false,getContainer:function(){var a=this;return baidu.g(a.containerId);},render:function(){var f=this,b,d,e,a,g=f.containerId,c=baidu.g(f.containerId);if(b=baidu.ui.Modal.collection[g]){f.mainId=b.mainId;a=f.getMain();}else{a=f.renderMain();if(c!==document.body){c.appendChild(a);}else{d=baidu.dom.fixable(a,{autofix:false,vertival:"top",horizontal:"left",offset:{x:0,y:0}});}baidu.ui.Modal.collection[g]={mainId:f.mainId,instance:[],flash:{},fixableInstance:d};}f.dispatchEvent("onload");},show:function(i){var g=this,b=g.getContainer(),e=g.getMain(),f=g.containerId,c=baidu.ui.Modal.collection[f],a=c.fixableInstance,d=c.instance.length,h;if(g._showing){return;}if(d>0){h=baidu.lang.instance(c.instance[d-1]);h&&h._removeHandler();}i=i||{};g._show(i.styles||{});if(a){a.render();}e.style.display="block";c.flash[g.guid]=g._hideFlash();c.instance.push(g.guid);g._showing=true;g.dispatchEvent("onshow");},_show:function(b){var a=this;a._getModalStyles(b||{});a._update();if(a.getContainer()===document.body&&baidu.browser.ie&&baidu.browser.ie<=7){a.windowHandler=a.getWindowHandle();baidu.on(window,"resize",a.windowHandler);}},hide:function(){var a=this;a._hide();a.dispatchEvent("onhide");},_hide:function(){var g=this,b=g.containerId,h=baidu.ui.Modal.collection[b],c=h.flash[g.guid],a=g.getMain(),f=h.instance.length,e;if(!g._showing){return;}for(var d=0;d<f;d++){if(h.instance[d]==g.guid){h.instance.splice(d,1);break;}}f=h.instance.length;if(d==f){g._removeHandler();if(f>0){e=baidu.lang.instance(h.instance[f-1]);e&&e._show();}else{a.style.display="none";}g._restoreFlash(c);}else{e=baidu.lang.instance(h.instance[f-1]);h.flash[e.guid]=h.flash[e.guid].concat(c);}h.flash[g.guid]=[];g._showing=false;},_removeHandler:function(){var a=this;if(a.getContainer()===document.body&&baidu.browser.ie&&baidu.browser.ie<=7){baidu.un(window,"resize",a.windowHandler);}},getWindowHandle:function(){var b=this,a=b.getMain();return function(){baidu.setStyles(a,{width:baidu.page.getViewWidth(),height:baidu.page.getViewHeight()});if(b.getContainer()===document.body&&baidu.browser.ie&&baidu.browser.ie<=7){window.top!==window.self&&setTimeout(function(){b._getModalStyles({});b._update();},16);}};},update:function(b){b=b||{};var c=this,a=c.getMain(),d=baidu.ui.Modal.collection[c.containerId];b=b||{};baidu.extend(c,b);c._getModalStyles(b.styles||{});c._update();delete (b.styles);baidu.extend(c,b);c.dispatchEvent("onupdate");},_update:function(){var b=this,a=b.getMain();baidu.dom.setStyles(a,b.styles);},_getModalStyles:function(f){var e=this,a=e.getMain(),b=e.getContainer(),c,h,d;function g(k,j){var i=parseInt(baidu.getStyle(k,j));i=isNaN(i)?0:i;i=baidu.lang.isNumber(i)?i:0;return i;}if(b!==document.body){f.width=b.offsetWidth;f.height=b.offsetHeight;if(baidu.getStyle(b,"position")=="static"){d=a.offsetParent||document.body;c=baidu.dom.getPosition(d);h=baidu.dom.getPosition(b);f.top=h.top-c.top+g(d,"marginTop");f.left=h.left-c.left+g(d,"marginLeft");}}else{if(baidu.browser.ie>7||!baidu.browser.ie){f.width="100%";f.height="100%";}else{f.width=baidu.page.getViewWidth();f.height=baidu.page.getViewHeight();}}baidu.extend(e.styles,f);e.styles.backgroundColor=e.styles.color||e.styles.backgroundColor;delete (e.styles.color);},_hideFlash:function(){var c=this,b=c.getContainer(),d=b.getElementsByTagName("object"),a=[];baidu.each(d,function(f){var e=true;if(baidu.dom.getAncestorBy(f,function(g){if(baidu.getStyle(g,"zIndex")>c.styles.zIndex){return true;}return false;})){return;}baidu.each(baidu.dom.children(f),function(g){if(baidu.getAttr(g,"name")=="wmode"&&baidu.getAttr(g,"value")!="window"){e=false;}});if(e){a.push([f,baidu.getStyle(f,"visibility")]);f.style.visibility="hidden";}});return a;},_restoreFlash:function(a){baidu.each(a,function(b){if(b[0]!=null){b[0].style.visibility=b[1];}});},dispose:function(){var a=this;a._hide();a.dispatchEvent("ondispose");baidu.lang.Class.prototype.dispose.call(a);}});baidu.ui.Modal.collection={};baidu.extend(baidu.ui.Modal.prototype,{coverable:true,coverableOptions:{}});baidu.ui.Modal.register(function(a){if(a.coverable){if(!baidu.browser.isWebkit&&!baidu.browser.isGecko){a.addEventListener("onload",function(){a.Coverable_show();});a.addEventListeners("onshow,onupdate",function(){a.Coverable_update();});a.addEventListener("onhide",function(){a.Coverable_hide();});}}});baidu.extend(baidu.ui.Dialog.prototype,{modal:true,modalColor:"#000000",modalOpacity:0.4,hideModal:function(){var a=this;(a.modal&&a.modalInstance)&&a.modalInstance.hide();}});baidu.ui.Dialog.register(function(a){if(a.modal){a.addEventListener("onopen",function(){if(!a.modalInstance){a.modalInstance=new baidu.ui.Modal({autoRender:true});}a.modalInstance.show({targetUI:a,styles:{color:a.modalColor,opacity:a.modalOpacity,zIndex:a.modalZIndex?a.modalZIndex:a.zIndex-1}});});a.addEventListener("onclose",a.hideModal);a.addEventListener("ondispose",a.hideModal);}});baidu.dom.setAttrs=function(c,a){c=baidu.dom.g(c);for(var b in a){baidu.dom.setAttr(c,b,a[b]);}return c;};baidu.setAttrs=baidu.dom.setAttrs;baidu.dom.create=function(c,a){var d=document.createElement(c),b=a||{};return baidu.dom.setAttrs(d,b);};baidu.dom.resizable=function(d,g){var y,l,i={},c,a={},q,w,t,b,e,j,n,r=false,u={direction:["e","s","se"],minWidth:16,minHeight:16,classPrefix:"tangram",directionHandlePosition:{}};if(!(y=baidu.dom.g(d))&&baidu.getStyle(y,"position")=="static"){return false;}b=y.offsetParent;var m=baidu.getStyle(y,"position");l=baidu.extend(u,g);baidu.each(["minHeight","minWidth","maxHeight","maxWidth"],function(z){l[z]&&(l[z]=parseFloat(l[z]));});q=[l.minWidth||0,l.maxWidth||Number.MAX_VALUE,l.minHeight||0,l.maxHeight||Number.MAX_VALUE];x();function x(){j=baidu.extend({e:{right:"-5px",top:"0px",width:"7px",height:y.offsetHeight},s:{left:"0px",bottom:"-5px",height:"7px",width:y.offsetWidth},n:{left:"0px",top:"-5px",height:"7px",width:y.offsetWidth},w:{left:"-5px",top:"0px",height:y.offsetHeight,width:"7px"},se:{right:"1px",bottom:"1px",height:"16px",width:"16px"},sw:{left:"1px",bottom:"1px",height:"16px",width:"16px"},ne:{right:"1px",top:"1px",height:"16px",width:"16px"},nw:{left:"1px",top:"1px",height:"16px",width:"16px"}},l.directionHandlePosition);baidu.each(l.direction,function(z){var A=l.classPrefix.split(" ");A[0]=A[0]+"-resizable-"+z;var C=baidu.dom.create("div",{className:A.join(" ")}),B=j[z];B.cursor=z+"-resize";B.position="absolute";baidu.setStyles(C,B);C.key=z;C.style.MozUserSelect="none";y.appendChild(C);i[z]=C;baidu.on(C,"mousedown",h);});r=false;}function f(){e&&s();baidu.object.each(i,function(z){baidu.un(z,"mousedown",h);baidu.dom.remove(z);});r=true;}function k(z){if(!r){l=baidu.extend(l,z||{});f();x();}}function h(B){var A=baidu.event.getTarget(B),z=A.key;e=A;if(A.setCapture){A.setCapture();}else{if(window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP);}}t=baidu.getStyle(document.body,"cursor");baidu.setStyle(document.body,"cursor",z+"-resize");baidu.on(A,"mouseup",s);baidu.on(document.body,"selectstart",o);w=document.body.style.MozUserSelect;document.body.style.MozUserSelect="none";var C=baidu.page.getMousePosition();a=p();n=setInterval(function(){v(z,C);},20);baidu.lang.isFunction(l.onresizestart)&&l.onresizestart();baidu.event.preventDefault(B);}function s(){if(e.releaseCapture){e.releaseCapture();}else{if(window.releaseEvents){window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP);}}baidu.un(e,"mouseup",s);baidu.un(document,"selectstart",o);document.body.style.MozUserSelect=w;baidu.un(document.body,"selectstart",o);clearInterval(n);baidu.setStyle(document.body,"cursor",t);e=null;baidu.lang.isFunction(l.onresizeend)&&l.onresizeend();}function v(A,G){var F=baidu.page.getMousePosition(),B=a.width,z=a.height,E=a.top,D=a.left,C;if(A.indexOf("e")>=0){B=Math.max(F.x-G.x+a.width,q[0]);B=Math.min(B,q[1]);}else{if(A.indexOf("w")>=0){B=Math.max(G.x-F.x+a.width,q[0]);B=Math.min(B,q[1]);D-=B-a.width;}}if(A.indexOf("s")>=0){z=Math.max(F.y-G.y+a.height,q[2]);z=Math.min(z,q[3]);}else{if(A.indexOf("n")>=0){z=Math.max(G.y-F.y+a.height,q[2]);z=Math.min(z,q[3]);E-=z-a.height;}}C={width:B,height:z,top:E,left:D};baidu.dom.setOuterHeight(y,z);baidu.dom.setOuterWidth(y,B);baidu.setStyles(y,{top:E,left:D});i.n&&baidu.setStyle(i.n,"width",B);i.s&&baidu.setStyle(i.s,"width",B);i.e&&baidu.setStyle(i.e,"height",z);i.w&&baidu.setStyle(i.w,"height",z);baidu.lang.isFunction(l.onresize)&&l.onresize({current:C,original:a});}function o(z){return baidu.event.preventDefault(z,false);}function p(){var z=baidu.dom.getPosition(y.offsetParent),A=baidu.dom.getPosition(y),C,B;if(m=="absolute"){C=A.top-(y.offsetParent==document.body?0:z.top);B=A.left-(y.offsetParent==document.body?0:z.left);}else{C=parseFloat(baidu.getStyle(y,"top"))||-parseFloat(baidu.getStyle(y,"bottom"))||0;B=parseFloat(baidu.getStyle(y,"left"))||-parseFloat(baidu.getStyle(y,"right"))||0;}baidu.setStyles(y,{top:C,left:B});return{width:y.offsetWidth,height:y.offsetHeight,top:C,left:B};}return{cancel:f,update:k,enable:x};};(function(){var a=baidu.ui.behavior.resizable=function(){};a.resizeableHandle=null;a.resizeCreate=function(b){var c=this,d;b=b||{};if(!c.resizable){return;}baidu.object.extend(c,b);c._resizeOption={onresizestart:function(){c.dispatchEvent("onresizestart");},onresize:function(e){c.dispatchEvent("onresize",e);},onresizeend:function(){c.dispatchEvent("onresizeend");}};baidu.each(["minWidth","minHeight","maxWidth","maxHeight"],function(f,e){c[f]&&(c._resizeOption[f]=c[f]);});c._resizeOption.classPrefix=b.classPrefix||c.classPrefix;d=b.target||c.getBody();c.direction&&(c._resizeOption.direction=c.direction);c.resizeableHandle=baidu.dom.resizable(d,c._resizeOption);};a.resizeUpdate=function(b){this.resizeableHandle.update(b);};a.resizeCancel=function(){this.resizeableHandle.cancel();};a.resizeEnable=function(){this.resizeableHandle.enable();};})();baidu.extend(baidu.ui.Dialog.prototype,{resizable:true,minWidth:100,minHeight:100,direction:["s","e","se"]});baidu.ui.Dialog.register(function(f){if(f.resizable){var d,e,b,a,h,g,i;function c(){g=d.offsetWidth;i=d.offsetHeight;a=e.offsetWidth;h=e.offsetHeight;}f.addEventListener("onload",function(){d=f.getBody();b=f.getMain();e=f.getContent();c();f.resizeCreate({target:b,classPrefix:f.classPrefix});});f.addEventListener("onresize",function(j){baidu.dom.setOuterWidth(e,a+j.current.width-j.original.width);baidu.dom.setOuterHeight(e,h+j.current.height-j.original.height);baidu.dom.setOuterWidth(d,g+j.current.width-j.original.width);baidu.dom.setOuterHeight(d,i+j.current.height-j.original.height);f.coverable&&f.Coverable_update();});f.addEventListener("onresizeend",function(){c();f.width=a;f.height=h;baidu.setStyles(b,{height:"",width:""});});f.addEventListener("onupdate",function(){c();f.resizeUpdate();});f.addEventListener("onopen",function(){c();f.resizeUpdate();});}});baidu.page.loadCssFile=function(b){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href",b);document.getElementsByTagName("head")[0].appendChild(a);};window.pass_pop_api_cache=window.pass_pop_api_cache||{};var domain="https://passport.baidu.com";pass_login_iframe=domain+"/v2/?login&psp_tt=1";pass_reg_iframe=domain+"/v2/?reg&psp_tt=1";var __skin__unload__=true;window.pass_pop_api=function(opts){var _opts={action:"emailLogin",relay:location.protocol+"//"+location.host+"/passport.html",useSkinFromPass:1,callback:function(o){location.reload();}};if(opts){T.object.extend(_opts,opts);}var dialogInstance;var _resize="pass_pop_"+T.lang.guid();if(__skin__unload__&&_opts.useSkinFromPass){T.page.loadCssFile(domain+"/style/v2/pop_ui.css");}__skin__unload__=false;var reg_callback="pass_pop_"+T.lang.guid();window.pass_pop_api_cache[reg_callback]=function(o){(_opts.regCallback?_opts.regCallback:_opts.callback)(o);dialogInstance&&dialogInstance.close();};var login_callback="pass_pop_"+T.lang.guid();window.pass_pop_api_cache[login_callback]=function(o){(_opts.loginCallback?_opts.loginCallback:_opts.callback)(o);dialogInstance&&dialogInstance.close();};var options={top:"auto",left:"auto",modal:true,draggable:true,autoRender:true,type:"iframe",classPrefix:"pass-pop"};var loginOpts={titleText:"登录",width:343,height:455,iframeSrc:pass_login_iframe+"&callback="+login_callback+"&action="+_opts.action+"&xs="+encodeURIComponent(_opts.relay)+"&resize="+_resize+"&tpl="+_opts.tpl+"&skin="+encodeURIComponent(_opts.loginSkin||_opts.skin||"")};var regOpts={titleText:"注册",width:833,height:688,iframeSrc:pass_reg_iframe+"&callback="+reg_callback+"&action="+_opts.action+"&xs="+encodeURIComponent(_opts.relay)+"&resize="+_resize+"&tpl="+_opts.tpl+"&skin="+encodeURIComponent(_opts.regSkin||_opts.skin||"")};if(_opts.action.indexOf("Login")!=-1){T.object.extend(options,loginOpts);}else{T.object.extend(options,regOpts);}options.onclose=function(){setTimeout(function(){delete window.pass_pop_api_cache[reg_callback];delete window.pass_pop_api_cache[login_callback];delete window.pass_pop_api_cache[_resize];},2000);};dialogInstance=new T.ui.Dialog(options);dialogInstance.open();pass_pop_api_cache["setHeight"]=function(opts){dialogInstance.update({height:opts.height});};window.pass_pop_api_cache[_resize]=function(opts){if(opts.type=="reg"){T.object.extend(options,regOpts);}else{if(opts.loginType=="email"){loginOpts.iframeSrc=loginOpts.iframeSrc.replace(/&action=[^&]+/g,"");}T.object.extend(options,loginOpts);}dialogInstance.getContent().getElementsByTagName("iframe")[0]&&(dialogInstance.getContent().getElementsByTagName("iframe")[0].src=options.iframeSrc);dialogInstance.update(options);};};window.pass_pop_run=function(opts){opts.method&&window.pass_pop_api_cache[opts.method]&&window.pass_pop_api_cache[opts.method](opts);};T.on(window,"unload",function(){try{delete window.pass_pop_api_cache;}catch(e){}});})();
