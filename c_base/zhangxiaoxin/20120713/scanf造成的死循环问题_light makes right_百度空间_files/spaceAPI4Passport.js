var SpaceAPI4Passport=SpaceAPI4Passport||{};(function(e){e.version="2";e.loaded=true;e.ext=e.ext||{};var d=window.location.host;var a={passport:"http://passport.baidu.com/",pop:{relay:"http://"+d+"/st/jump_v2_passport.html",reg:"http://hi.baidu.com/reg/new"},login:{staticpage:"http://"+d+"/st/jump_v2_login.html",action:"http://passport.baidu.com/v2/?login",resendmail:"http://hi.baidu.com/reg/verify/mail?type=resendMail&email=#{mail}"}};var b=(function(){var h=function(r,t,p,s){var q={type:s,no:t};q.title=t>-1?"登录失败":"提示信息";t=t+"";switch(t){case"-21":q.description="您尝试使用用户名登录，但用户名太长。（不超过7个汉字或14个字节）";break;case"-11":q.description="您尝试使用邮箱登录，但邮箱太长。（不超过60个字节）";break;case"-3":q.description="手机号格式错误，请重新输入。（小于或等于11位的数字）";break;case"-2":switch(s){case"username":q.description="请填写账号";break;case"phonenumber":q.description="请填写手机号";break;case"password":q.description="请填写密码";break;case"verifycode":q.description="请输入验证码";break;default:q.title=""}break;case"-1":q.description="登录时发生未知错误，请重新输入";break;case"1":switch(s){case"phonenumber":q.description="手机号格式错误，请重新输入";break;case"username":default:q.description="用户名格式错误，请重新输入"}break;case"2":switch(s){case"username":q.description="用户不存在";break;case"phonenumber":q.description="手机号不存在";break;default:q.description="账号不存在"}break;case"4":q.description="登录密码错误，请重新登录";break;case"5":q.description="今日登录次数过多";break;case"6":q.description="验证码不匹配，请重新输入验证码";break;case"16":q.description="对不起，您现在无法登录";break;case"20":q.description="此帐号已登录人数过多";break;case"257":q.description="请输入验证码";break;case"110024":q.title="账号未激活";var o=a.login.resendmail;var n=p.mail;o=baidu.string.format(o,{mail:n});q.description=["请到验证邮件中激活，<br />或者",'<a href="',o,'" class="blueA">重发验证邮件</a>'].join("");break;default:}g(r,q)};var j=[];var l=function(o){if(!o||!o.id){return}var p=o.id+"Tip";var n=baidu.g(p);if(!n||n==p){return}baidu.dom.remove(n)};var m="tip";var g=function(r,q){if(m=="alert"){alert(q.description);return}if(j[r.id]){clearTimeout(j[r.id]);j[r.id]=0}var t=r.id+"Tip";var p=baidu.g(t);if(p&&p!=t){baidu.dom.remove(p)}var q=q||{};if(!q.title){return}var s=baidu.dom.getParent(r);baidu.dom.addClass(s,"tip_form_login_container");p=baidu.dom.create("div",{id:t,className:"tip_form_login"});var o=parseInt(s.offsetHeight,10)+6;baidu.dom.setStyle(p,"bottom",o);p.innerHTML=['<div class="tip_form_login_body">','<div class="tip_form_login_title">',q.title,"</div>",'<div class="tip_form_login_description">',q.description,"</div>",'<div class="tip_form_login_close">&#160;</div>','<div class="tip_form_login_down_arrow">&#160;</div>',"</div>"].join("");baidu.dom.insertAfter(p,r);var n=baidu.q("tip_form_login_close",p)[0];baidu.on(n,"click",function(u){l(r)});j[r.id]=setTimeout(function(){baidu.event.fire(n,"click")},3000)};var k=function(n,o,p){window.location.href=n};var i=function(u){var s=u.outDomId;var o=u.staticpage||SpaceAPI4Passport.ext.staticpage||a.login.staticpage;var r=u.isPhone?true:false;var p=u.isMen===false?false:true;var t=u.isTopBar?true:false;m=u.errorType||m||"tip";var n=a.login.action;var q={outerDomId:s,staticpage:u.staticpage||o,u:u.u||window.location.href,isPhone:r,isMen:p,onReady:u.onReady||function(x){baidu.dom.addClass(x,"form_login_container");if(!t){baidu.dom.addClass(x,"form_login_container_normal");var y=baidu.q("pass_login_label_password",x)[0];var v=baidu.q("pass_login_label_verifycode",x)[0];y.innerHTML="密　码：";v.innerHTML="验证码：";var w=baidu.q("pass_login_label_username",x)[0];w.innerHTML="账　号："}else{baidu.dom.addClass(x,"form_login_container_topbar")}if(r){return}var B=baidu.q("pass_login_input_username",x)[0];var A="用户名/验证邮箱";if(t){A="用户名/邮箱"}if("placeholder" in B){baidu.dom.setAttr(B,"placeholder",A)}else{var z=function(D,F,C){var E=D.value;if(E===""&&C){setTimeout(function(){D.value=F},1);baidu.dom.addClass(D,"input_is_placeholder")}if(E===F&&!C){D.value="";baidu.dom.removeClass(D,"input_is_placeholder")}};z(B,A,true);baidu.on(B,"keyup",function(C){z(B,A)});baidu.on(B,"focus",function(C){z(B,A)});baidu.on(B,"blur",function(C){z(B,A,true)})}if(u.afterReady){u.afterReady(x)}},onInputErr:u.onInputErr||function(w,z,v){var y=baidu.dom.getAncestorByClass(w,"form_login_container");if(t){if(z>-1){k(n,y,u)}return}var x;if(r){x=baidu.dom.hasClass(w,"pass_login_input_phoneNumber")?"phonenumber":x}else{x=baidu.dom.hasClass(w,"pass_login_input_username")?"username":x}x=baidu.dom.hasClass(w,"pass_login_input_password")?"password":x;x=baidu.dom.hasClass(w,"pass_login_input_verifycode")?"verifycode":x;h(y,z,v,x)},onInputOk:u.onInputOk||function(w){if(t){return}var v=baidu.dom.getAncestorByClass(w,"form_login_container");l(v)},onCheckErr:function(v){if(t){k(n,v,u);return}},onSystemErr:u.onSystemErr||function(x,w,v){if(t){if(w>-1){k(n,x,u)}return}h(x,w,v,"general")}};bdPass.api.login.init(q)};return i})();var c={};c.show=function(h){var i=h||{};var g=i.type||"login";if(g=="login"){pass_pop_api({action:"emailLogin",relay:i.relay||SpaceAPI4Passport.ext.relay||a.pop.relay,useSkinFromPass:false,skin:"http://hi.bdimg.com/static/base/css/passportV2/pop_skin.css?v=b56252d7.css",callback:function(j){var k=i.reloadUrl||false;if(k=="noreload"){return}k?window.location.href=k:location.reload()},tpl:"sp"})}else{window.location.href=a.pop.reg}};c.callback=function(h){var g=h||{};if(g.type&&g.type=="reg"){window.location.href=a.pop.reg}else{pass_pop_run(h)}};var f=function(h){h=h||{};a=h.url||a;var g="true";document.write('<script type="text/javascript" src="'+a.passport+"v2/api/?getapi&class=login&tpl=sp&tangram="+g+'"><\/script>');document.write('<script id="pass_api_login_shell" charset="utf-8"><\/script>');document.write('<script src="'+a.passport+'js/pass_api_pop_shell.js" charset="utf-8"><\/script>')};e.init=f;e.pop=c;e.login=b})(SpaceAPI4Passport);SpaceAPI4Passport.init();