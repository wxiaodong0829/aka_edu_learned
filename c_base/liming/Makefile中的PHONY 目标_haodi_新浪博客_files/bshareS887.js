(function(){var u=window,a=u.bShareUtil,b=u.bShare,f=b.config,n=b.iL8n,d=f.popHCol,v=f.poptxtc,x=f.popbgc,C=b.bhost,y=b.whost,z=b.imageBasePath,D=[],E=["bsharesync","xinhuamb"],l=document,o=l.documentElement,p=l.body,q=Math.max,k=0,r=0,s=0,A=function(){return{t:q(o.scrollTop,p.scrollTop),l:q(o.scrollLeft,p.scrollLeft)}},F=function(){var h=l.getElementById("bsPanelHolder");if(!h)h=l.createElement("div"),h.id="bsPanelHolder";var k=h;a.loadStyle("a.bsSiteLink{text-decoration:none;color:"+v+";}a.bshareDiv{overflow:hidden;height:16px;line-height:18px;font-size:14px;color:#333;padding-left:0;}a.bshareDiv:hover{text-decoration:none;}a.bsSiteLink:hover{text-decoration:underline;}div.buzzButton{cursor:pointer;}div.bsRlogo,div.bsRlogoSel{width:60px;float:left;margin:0 4px;padding:2px 0;}div.bsLogo,div.bsLogoSel{float:left;width:111px;text-align:left;height:auto;padding:2px 4px;margin:2px 0;white-space:nowrap;overflow:hidden;}div.bsLogoSel,div.bsRlogoSel{border:1px solid #ddd;background:#f1f1f1;}div.bsLogo,div.bsRlogo{border:1px solid #fff;background:#fff;}div.bsLogo a,div.bsLogoSel a{display:block;height:16px;line-height:16px;padding:0 0 0 24px;text-decoration:none;}div.bsLogoSel a,div.bsRlogoSel a{color:#000;border:none;}div.bsLogo a,div.bsRlogo a{color:#666;border:none;}div.bsLogoLink{width:121px;overflow:hidden;background:#FFF;float:left;margin:3px 0;}#bsLogin{float:right;text-align:right;overflow:hidden;height:100%;}#bsPanel{position:absolute;z-index:100000000;font-size:12px;width:"+
(111*d+(d-1)*10+26+(a.isIe&&!a.isSt?6:0))+"px;background:url("+b.shost+"/frame/images/background-opaque-dark."+(a.isIe6?"gif":"png")+");padding:6px;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;}div.bsClear{clear:both;height:0;line-height:0;font-size:0;overflow:hidden;}");var m;m='<div style="padding:0 8px;border-bottom:1px solid #e8e8e8;color:'+v+";background:"+x+';text-align:left;"><a style="float:left;height:20px;line-height:20px;font-weight:bold;" class="bsSiteLink" target="_blank" href="'+
y+'/intro">'+n.shareText+'</a><a class="bsSiteLink" style="cursor:pointer;float:right;height:20px;line-height:20px;font-weight:bold;" onclick="document.getElementById(\'bsPanel\').style.display=\'none\';">X</a><div class="bsClear"></div></div><div class="bsClear"></div>';var g="",j,c,i,e=[],t,B,o,w,p=0,q;if(d==2){g+='<div style="height:47px;border-bottom:1px #ccc solid;padding:4px 0 4px 16px;margin-right:8px;_padding-left:12px;">';for(j=0;j<3&&j<f.bps.length;j++)c=f.bps[j],b.pnMap[c]!==void 0&&(g+=
'<div class="bsRlogo" onmouseover="javascript:this.className=\'bsRlogoSel\'" onmouseout="javascript:this.className=\'bsRlogo\'"><a href="javascript:void(0);" onclick="javascript:bShare.share(event,\''+c+'\');return false;" style="text-decoration:none;line-height:120%;"><div style="cursor:pointer;width:24px;height:24px;margin:0 18px 2px;background:url('+z+"/logos/m2/"+c+'.gif) no-repeat;"></div><div style="cursor:pointer;text-align:center;width:60px;height:16px !important;overflow:hidden;color:inherit;white-space:nowrap;line-height:120% !important">'+
b.pnMap[c][0]+"</div></a></div>");g+="</div>"}for(c=0;c<d;c++)e.push("<div class='bsLogoLink'>");B=d<2&&f.bps.length>6?6:f.bps.length;for(j=0,t=d==2?3:0;t<B;t++)c=f.bps[t],b.pnMap[c]!==void 0&&(i=b.pnMap[c][0],w=b.pnMap[c][1]*-18,o=(a.hasElem(D,c)?"font-weight:bold;":"")+(a.hasElem(E,c)?"color:red;":""),e[j%d]+='<div class="bsLogo" onmouseover="javascript:this.className=\'bsLogoSel\'" onmouseout="javascript:this.className=\'bsLogo\'"><a href="javascript:void(0);" title="'+i+'" onclick="javascript:bShare.share(event,\''+
c+'\');return false;" style="'+o+"background:url("+z+(w?"/slogos_sprite8."+(a.isIe?"gif":"png")+") no-repeat 0 "+w+'px;">':"/logos/s4/"+c+(a.isIe?".gif":".png")+') no-repeat;">')+i+"</a></div>",j++);r=116+26*Math.ceil(j/d)-(d!=2?56:0);s=d*121+28;for(c=0;c<d;c++)g+=e[c]+"</div>";g+="<div class='bsClear'></div>";for(q in b.pnMap)b.pnMap.hasOwnProperty(q)&&p++;e='<div style="height:20px;line-height:20px;padding:0 8px;border-top:1px solid #e8e8e8;color:'+v+";background:"+x+';"><div class="buzzButton" style="float:left;">'+
(d==1?n.morePlatsShort:n.morePlats+' <font style="font-weight:normal;">('+p+")</font>")+'</div><div id="bsLogin" style="'+(d<2?"width:80px;":"")+'">';f.logo&&(e+='<a class="bsSiteLink" href="'+y,e+=b.isLite?'" target="_blank"><span style="font-size:10px;vertical-align:bottom;line-height:24px;"><span style="color:#f60;">b</span>Share</span></a>':b.user?'/userProfile" title="'+b.user+'" target="_blank" style="width:120px;display:block;overflow:hidden;">'+b.user+"</a>":'/register" title="'+n.regTitle+
'" target="_blank">'+n.register+'</a>&nbsp;&nbsp;<a class="bsSiteLink" title="'+n.loginTitle+'" target="_blank" href="'+C+"/loginAction?originalUrl="+u.location+'" onclick="bShare.more();">'+n.login+"</a>");e+="</div></div>";m=m+"<div style='padding-left:8px;background:#fff;*height:"+(26*Math.ceil(j/d)+6+(d==2?56:0))+"px;'>"+g+"</div>"+e;k.innerHTML='<div id="bsPanel" style="display:none;">'+m+"</div>";l.body.appendChild(h);return h};b.ready=function(){F();var h=l.getElementById("bsPanel");b.style!=
5&&a.getElem(l,"a","bshareDiv",function(d,m){a.getElem(d,"div","buzzButton",function(g,j){g.onmouseover=function(c){return function(){k!==0&&clearTimeout(k);var i=a.getElem(d,"div","buzzButton")[c],e=f.poph,g=a.getOffset(i).x,j=a.getWH().w;if(e!=="right"&&(g+s>j||e==="left"))g-=s-i.offsetWidth;h.style.left=g+"px";e=a.getOffset(i).y;i=i.offsetHeight;a.getWH();h.style.top=f.pop==2||f.pop!=1&&e-A().t+r+i>a.getWH().h?e-r-2+"px":e+i+2+"px";h.style.display="";b.prepare(m);b.click()}}(j);g.onmouseout=function(){k=
setTimeout(function(){h.style.display="none"},1E3)}})});a.getElem(l,"div","bshare-custom",function(d,m){a.getElem(d,"a","bshare-more",function(g,j){g.onmouseover=function(c){return function(){k!==0&&clearTimeout(k);var i=a.getElem(d,"a","bshare-more")[c],e=f.poph,g=a.getOffset(i).x,j=a.getWH().w;if(e!=="right"&&(g+s>j||e==="left"))g-=s-i.offsetWidth;h.style.left=g+"px";e=a.getOffset(i).y;i=i.offsetHeight;a.getWH();h.style.top=f.pop==2||f.pop!=1&&e-A().t+r+i>a.getWH().h?e-r-2+"px":e+i+2+"px";h.style.display=
"";b.prepare(m);b.click()}}(j);g.onmouseout=function(){k=setTimeout(function(){h.style.display="none"},1E3)}})});a.getElem(h,"div","buzzButton",function(a,d){a.onclick=function(a){b.more(a,d);return!1}});h.onmouseout=function(){k=setTimeout(function(){h.style.display="none"},600)};h.onmouseover=function(){k!==0&&clearTimeout(k)}};!f.bps||f.bps.length==0?setTimeout(function(){if(!f.bps||f.bps.length==0)f.bps="bsharesync,sinaminiblog,qqmb,renren,qzone,sohuminiblog,douban,kaixin001,baiduhi,qqxiaoyou,neteasemb,ifengmb,email,facebook,twitter,tianya,clipboard".split(","),
b.ready()},2E3):b.ready()})();
